<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
  <title>Rogue Clone: Sci-Fi (v6 mobile)</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div id="wrap">
    <h1>Rogue Clone: Sci-Fi <small>v6 (mobile)</small></h1>
    <div id="ui">
      <div id="help">D-Padで移動、A/Bボタンやアイコンで操作できます（PCは従来どおりキーボードもOK）</div>
      <div id="log"></div>
      <div id="stats"></div>
    </div>
    <pre id="screen" aria-label="game screen" tabindex="0"></pre>
  </div>

  <!-- Touch Controls -->
  <div id="touch-controls">
    <div id="dpad">
      <button class="pad" data-dx="-1" data-dy="-1">↖</button>
      <button class="pad" data-dx="0" data-dy="-1">↑</button>
      <button class="pad" data-dx="1" data-dy="-1">↗</button>
      <button class="pad" data-dx="-1" data-dy="0">←</button>
      <button class="pad" data-act="wait">•</button>
      <button class="pad" data-dx="1" data-dy="0">→</button>
      <button class="pad" data-dx="-1" data-dy="1">↙</button>
      <button class="pad" data-dx="0" data-dy="1">↓</button>
      <button class="pad" data-dx="1" data-dy="1">↘</button>
    </div>

    <div id="actions">
      <div class="row">
        <button class="act" data-act="pickup">拾う<br><small>G</small></button>
        <button class="act" data-act="use">使用<br><small>U</small></button>
        <button class="act" data-act="toggle">切替<br><small>T</small></button>
        <button class="act" data-act="fire">射撃<br><small>F</small></button>
      </div>
      <div class="row">
        <button class="act" data-act="elevator">昇降<br><small>E</small></button>
        <button class="act" data-act="saberColor">色<br><small>C</small></button>
        <button class="act" data-act="saberForm">型<br><small>V</small></button>
        <button class="act" data-act="save">保存<br><small>P</small></button>
        <button class="act" data-act="load">読込<br><small>O</small></button>
      </div>
    </div>
  </div>

  <!-- Fire Direction Overlay -->
  <div id="fire-overlay" class="hidden">
    <div class="overlay-bg"></div>
    <div class="overlay-pad">
      <button class="pad" data-fdx="-1" data-fdy="-1">↖</button>
      <button class="pad" data-fdx="0" data-fdy="-1">↑</button>
      <button class="pad" data-fdx="1" data-fdy="-1">↗</button>
      <button class="pad" data-fdx="-1" data-fdy="0">←</button>
      <button class="pad" data-act="cancel">×</button>
      <button class="pad" data-fdx="1" data-fdy="0">→</button>
      <button class="pad" data-fdx="-1" data-fdy="1">↙</button>
      <button class="pad" data-fdx="0" data-fdy="1">↓</button>
      <button class="pad" data-fdx="1" data-fdy="1">↘</button>
    </div>
  </div>

  <script src="main.js"></script>
  <script src="touch.js"></script>
</body>
</html>
